<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Bubble Sort Visualization - Enhanced Design</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>
  (function() {
    // Get saved theme, but DEFAULT to 'light'
    const savedTheme = localStorage.getItem('theme') || 'light'; 
    document.documentElement.setAttribute('data-theme', savedTheme);
  })();
</script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="index.css">
</head>

<body>
  <div class="theme-toggle">
    <button id="theme-toggle-btn" aria-label="Toggle theme">
      <span class="theme-icon">üåô</span>
    </button>
  </div>

  <div class="logout-container">
    <button id="logout-btn" aria-label="Logout">
        <i class="fas fa-sign-out-alt"></i> </button>
  </div>

  <div class="container">
    <header class="main-header">
      <h1>Bubble Sort Visualization</h1>
      <p class="subtitle">Interactive step-by-step sorting algorithm demonstration</p>
    </header>

    <section class="explanation-section">
      <div class="explanation-header">
        <div class="explanation-title-wrapper">
          <span class="explanation-emoji">ü´ß</span>
          <div class="explanation-title-content">
            <h3 class="explanation-title">Bubble Sort: An In-Depth Look</h3>
            <p class="explanation-subtitle">Understanding the Mechanics of a Foundational Sorting Algorithm</p>
          </div>
        </div>
        <div class="explanation-badge">
          <span class="badge-dot"></span>
          <span class="badge-text">Beginner Friendly</span>
        </div>
      </div>

      <div class="explanation-card card-featured">
        <div class="card-header">
          <div class="card-icon icon-blue">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7l10 5 10-5-10-5z" />
              <path d="M2 17l10 5 10-5M2 12l10 5 10-5" />
            </svg>
          </div>
          <h4 class="card-title">üí° Fundamental Principle</h4>
        </div>
        <p class="card-text">
          Bubble Sort operates on the principle of <strong>repeatedly comparing adjacent elements</strong> within a list. If a
          pair is found to be in the incorrect order (based on the desired sorting criteria, e.g., ascending),
          their positions are <strong>swapped</strong>. This process iterates through the list multiple times. With each
          complete pass, the next largest (or smallest, depending on order) unsorted element "bubbles up" to its
          final sorted position at the end of the unsorted portion.
        </p>
        <div class="card-visual">
          <div class="bubble-demo">
            <span class="bubble-item">5</span>
            <span class="bubble-arrow">‚Üí</span>
            <span class="bubble-item swap">1</span>
            <span class="bubble-arrow">‚Üí</span>
            <span class="bubble-item">5</span>
          </div>
          <div class="text-center text-xs text-muted-light mt-2">Comparison: (5, 1) ‚Üí Swap Occurs</div>
        </div>
      </div>

      <div class="explanation-card">
        <div class="card-header">
          <div class="card-icon icon-purple">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
              <line x1="9" y1="9" x2="15" y2="9" />
              <line x1="9" y1="15" x2="15" y2="15" />
            </svg>
          </div>
          <h4 class="card-title">üîÑ Algorithm Flow</h4>
        </div>
        <div class="algorithm-steps">
          <div class="algo-step">
            <span class="algo-number">1</span>
            <span class="algo-text">Compare adjacent elements (arr[j], arr[j+1])</span>
          </div>
          <div class="algo-step">
            <span class="algo-number">2</span>
            <span class="algo-text">If arr[j] > arr[j+1], swap them</span>
          </div>
          <div class="algo-step">
            <span class="algo-number">3</span>
            <span class="algo-text">Repeat steps 1-2 for all adjacent pairs in the current pass</span>
          </div>
          <div class="algo-step">
            <span class="algo-number">4</span>
            <span class="algo-text">Repeat passes until no swaps occur (array is sorted)</span>
          </div>
        </div>
      </div>

      <div class="explanation-card card-large">
        <div class="card-header">
          <div class="card-icon icon-green">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
            </svg>
          </div>
          <h4 class="card-title">‚öôÔ∏è Algorithmic Walkthrough (Ascending)</h4>
        </div>
        <div class="example-container">
          <div class="example-initial">
            <span class="example-label">Input Array:</span>
            <code class="example-array">[5, 1, 4, 2, 8]</code>
          </div>
          <div class="example-steps">
            <h5 class="font-semibold text-sm mb-2 text-primary-light">Pass 1:</h5>
            <div class="example-step"> <span class="step-number">1a</span>
              <div class="step-content"> <span class="step-label">Compare (5, 1):</span> <code
                  class="inline-code">Swap</code> ‚Üí <code class="result-array">[1, 5, 4, 2, 8]</code> </div>
            </div>
            <div class="example-step"> <span class="step-number">1b</span>
              <div class="step-content"> <span class="step-label">Compare (5, 4):</span> <code
                  class="inline-code">Swap</code> ‚Üí <code class="result-array">[1, 4, 5, 2, 8]</code> </div>
            </div>
            <div class="example-step"> <span class="step-number">1c</span>
              <div class="step-content"> <span class="step-label">Compare (5, 2):</span> <code
                  class="inline-code">Swap</code> ‚Üí <code class="result-array">[1, 4, 2, 5, 8]</code> </div>
            </div>
            <div class="example-step"> <span class="step-number">1d</span>
              <div class="step-content"> <span class="step-label">Compare (5, 8):</span> <code
                  class="inline-code">No Swap</code> ‚Üí <code class="result-array">[1, 4, 2, 5, 8]</code> <span
                  class="sorted-badge">‚ú® 8 Sorted</span> </div>
            </div>
            <h5 class="font-semibold text-sm mb-2 mt-3 text-primary-light">Pass 2:</h5>
            <div class="example-step"> <span class="step-number">2a</span>
              <div class="step-content"> <span class="step-label">Compare (1, 4):</span> <code
                  class="inline-code">No Swap</code> ‚Üí <code class="result-array">[1, 4, 2, 5, 8]</code> </div>
            </div>
            <div class="example-step"> <span class="step-number">2b</span>
              <div class="step-content"> <span class="step-label">Compare (4, 2):</span> <code
                  class="inline-code">Swap</code> ‚Üí <code class="result-array">[1, 2, 4, 5, 8]</code> </div>
            </div>
            <div class="example-step"> <span class="step-number">2c</span>
              <div class="step-content"> <span class="step-label">Compare (4, 5):</span> <code
                  class="inline-code">No Swap</code> ‚Üí <code class="result-array">[1, 2, 4, 5, 8]</code> <span
                  class="sorted-badge">‚ú® 5 Sorted</span> </div>
            </div>
            <p class="text-xs text-center text-muted-light mt-2">... (Passes continue until fully sorted)</p>
          </div>
        </div>
      </div>

      <div class="explanation-card">
        <div class="card-header">
          <div class="card-icon icon-orange">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="2" x2="12" y2="22" />
              <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
            </svg>
          </div>
          <h4 class="card-title">üìä Performance Analysis</h4>
        </div>
        <p class="card-text mb-2">Bubble Sort's efficiency varies significantly based on the initial state of the
          data:</p>
        <div class="complexity-items">
          <div class="complexity-item">
            <div class="complexity-row"> <span class="complexity-label">Best Case Time</span> <span
                class="complexity-badge badge-success">O(n)</span> </div> <span class="complexity-note">Occurs
              when the array is already sorted. With optimization, requires only one pass.</span>
          </div>
          <div class="complexity-item">
            <div class="complexity-row"> <span class="complexity-label">Average Case Time</span> <span
                class="complexity-badge badge-warning">O(n¬≤)</span> </div> <span class="complexity-note">Typical
              for randomly ordered data, requiring nested loops.</span>
          </div>
          <div class="complexity-item">
            <div class="complexity-row"> <span class="complexity-label">Worst Case Time</span> <span
                class="complexity-badge badge-error">O(n¬≤)</span> </div> <span class="complexity-note">Occurs
              when the array is sorted in reverse order.</span>
          </div>
          <div class="complexity-item">
            <div class="complexity-row"> <span class="complexity-label">Space Complexity</span> <span
                class="complexity-badge badge-info">O(1)</span> </div> <span class="complexity-note">It's an
              <strong>in-place</strong> algorithm, requiring minimal extra memory (usually for a temporary swap variable).</span>
          </div>
        </div>
        <br>
        <div class="card-header">
          <div class="card-icon icon-orange">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
          </div>
          <h4 class="card-title">üìà Time Complexity Growth</h4>
        </div>
        <div class="chart-container">
          <canvas id="complexityChart"></canvas>
        </div>
        <p class="text-xs text-muted-light mt-2 text-center">Visualizing O(n¬≤) growth as input size (n) increases.</p>
        <br>
         <div class="card-header">
           <div class="card-icon icon-blue"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
           </div>
           <h4 class="card-title">üíæ Space Complexity Growth</h4>
         </div>
         <div class="chart-container">
           <canvas id="spaceComplexityChart"></canvas>
         </div>
         <p class="text-xs text-muted-light mt-2 text-center">Visualizing O(1) - Constant space usage.</p>
      </div>

      <div class="explanation-card code-snippet-card">
        <div class="card-header">
          <div class="card-icon icon-purple">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
          </div>
          <h4 class="card-title">üíª Code Implementation</h4>
           <button id="copyCodeBtn" class="copy-code-button" title="Copy Code">
              <i class="far fa-copy"></i> </button>
        </div>
        <div class="code-tabs">
          <button class="code-tab active" data-lang="javascript">JavaScript</button>
          <button class="code-tab" data-lang="python">Python</button>
          <button class="code-tab" data-lang="java">Java</button>
          <button class="code-tab" data-lang="c">C</button>
          <button class="code-tab" data-lang="cpp">C++</button>
        </div>
        <div class="code-content-container">
          <pre id="code-snippet-javascript" class="code-snippet active"><code class="language-javascript">// Bubble Sort in JavaScript
function bubbleSort(arr) {
const n = arr.length;
for (let i = 0; i < n - 1; i++)
  for (let j = 0; j < n - 1 - i; j++)
    if (arr[j] > arr[j+1]) {
      [arr[j], arr[j+1]] = [arr[j+1], arr[j]];
    }
return arr;
}

const arr = [64, 34, 25, 12, 22, 11, 90];
console.log(bubbleSort(arr));

</code></pre>
          <pre id="code-snippet-python" class="code-snippet"><code class="language-python"># Bubble Sort in Python
def bubble_sort(a):
  n = len(a)
  for i in range(n-1):
      for j in range(n-1-i):
          if a[j] > a[j+1]:
              a[j], a[j+1] = a[j+1], a[j]

arr = [64, 34, 25, 12, 22, 11, 90]
bubble_sort(arr)
print(arr)

</code></pre>
          <pre id="code-snippet-java" class="code-snippet"><code class="language-java">// Bubble Sort in Java
public class BubbleSort {
  static void bubbleSort(int[] a) {
      int n = a.length;
      for (int i = 0; i < n-1; i++)
          for (int j = 0; j < n-1-i; j++)
              if (a[j] > a[j+1]) {
                  int t = a[j];
                  a[j] = a[j+1];
                  a[j+1] = t;
              }
  }

  public static void main(String[] args) {
      int[] arr = {64, 34, 25, 12, 22, 11, 90};
      bubbleSort(arr);
      for (int x : arr) System.out.print(x + " ");
      System.out.println();
  }
}

</code></pre>
            <pre id="code-snippet-c" class="code-snippet"><code class="language-c">// Bubble Sort in C
#include &lt;stdio.h&gt;

void bubbleSort(int arr[], int n) {
    for (int i = 0; i < n-1; i++)
        for (int j = 0; j < n-1-i; j++)
            if (arr[j] > arr[j+1]) {
                int t = arr[j];
                arr[j] = arr[j+1];
                arr[j+1] = t;
            }
}

void printArray(int arr[], int n) {
    for (int i = 0; i < n; i++) printf("%d ", arr[i]);
    printf("\n");
}

int main() {
    int arr[] = {64, 34, 25, 12, 22, 11, 90};
    int n = sizeof(arr)/sizeof(arr[0]);
    bubbleSort(arr, n);
    printArray(arr, n);
    return 0;
}

</code></pre>
            <pre id="code-snippet-cpp" class="code-snippet"><code class="language-cpp">// Bubble Sort in C++
#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;

void bubbleSort(vector&lt;int&gt;&amp; a) {
    int n = a.size();
    for (int i = 0; i < n-1; ++i)
        for (int j = 0; j < n-1-i; ++j)
            if (a[j] > a[j+1]) swap(a[j], a[j+1]);
}

int main() {
    vector&lt;int&gt; arr = {64, 34, 25, 12, 22, 11, 90};
    bubbleSort(arr);
    for (int x : arr) cout << x << " ";
    cout << "\n";
    return 0;
}

</code></pre>
        </div>
      </div>

      <div class="explanation-card">
        <div class="card-header">
          <div class="card-icon icon-cyan">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
            </svg>
          </div>
          <h4 class="card-title">üöÄ Optimization: Early Termination</h4>
        </div>
        <p class="card-text">
          A significant optimization involves adding a <code class="inline-code">swapped</code> flag. This flag
          tracks whether any swaps occurred during a full pass through the inner loop. If a pass completes with
          <strong>no swaps</strong>, it signifies that the array is already sorted, and the algorithm can terminate early,
          potentially improving performance drastically for nearly sorted or already sorted arrays (achieving the
          O(n) best-case time complexity).
        </p>
        <div class="optimization-box">
          <div class="optimization-item"> <span class="optimization-icon">‚úÖ</span> <span
              class="optimization-text">If <code class="inline-code">swapped</code> remains <code
                class="inline-code">false</code> after a pass, the array is sorted.</span> </div>
          <div class="optimization-item"> <span class="optimization-icon">‚è±Ô∏è</span> <span
              class="optimization-text">Avoids unnecessary comparison passes.</span> </div>
        </div>
      </div>

      <div class="explanation-card">
        <div class="card-header">
          <div class="card-icon icon-pink">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10" />
              <path d="M12 6v6l4 2" />
            </svg>
          </div>
          <h4 class="card-title">üîë Key Characteristics</h4>
        </div>
        <ul class="list-disc pl-5 space-y-1 text-sm text-secondary-light">
          <li><strong>Simplicity:</strong> Very easy to understand and implement, often used as an introductory sorting
            algorithm.</li>
          <li><strong>In-Place:</strong> Sorts the array directly without requiring significant additional memory (O(1) space
            complexity).</li>
          <li><strong>Stable:</strong> Maintains the relative order of equal elements. If two elements have the same value,
            their original order is preserved after sorting.</li>
          <li><strong>Inefficient:</strong> Generally performs poorly on large datasets due to its quadratic time complexity
            (O(n¬≤)) in average and worst cases.</li>
          <li><strong>Adaptive:</strong> With the optimization, it performs efficiently on nearly sorted data (O(n)).</li>
        </ul>
      </div>
      </section>

    <section class="input-section">
      <div class="input-container">
        <div class="input-group">
          <label for="array-input">Enter Array:</label>
          <input type="text" id="array-input" placeholder="e.g. 64, 34, 25, 12, 22, 11, 90" />
        </div>
        <div class="controls-group">
          <div class="select-group">
            <label for="order-select">Sort Order:</label>
            <select id="order-select">
              <option value="asc" selected>Ascending ‚Üí</option>
              <option value="desc">Descending ‚Üì</option>
            </select>
          </div>
          <button id="start-btn" class="start-button">
            <span>üöÄ Start Sorting</span>
          </button>
        </div>
        <div class="input-hint">
          <span id="number-count">Numbers in Array: 0</span>
        </div>
      </div>
    </section>

    <div class="main-content">
      <div class="left-panel">
        <section class="visualization-section">
          <div class="section-header">
            <h3>Array Visualization</h3>
            <div class="section-subtitle">Live array representation</div>
          </div>
          <div class="array-container">
            <div id="array-view"></div>
            <div class="integrated-legend">
              <div class="legend-item-mini">
                <span class="legend-box-mini compare"></span>
                <span class="legend-text-mini">Comparing</span>
              </div>
              <div class="legend-item-mini">
                <span class="legend-box-mini swap"></span>
                <span class="legend-text-mini">Swapping</span>
              </div>
              <div class="legend-item-mini">
                <span class="legend-box-mini sorted"></span>
                <span class="legend-text-mini">Sorted</span>
              </div>
              <div class="legend-item-mini">
                <span class="legend-box-mini pass-complete"></span>
                <span class="legend-text-mini">Pass Complete</span>
              </div>
            </div>
          </div>
          <div class="visualization-controls">
            <div class="speed-control">
              <div class="slider-container">
                <label for="speed-slider">Speed:</label>
                <input id="speed-slider" type="range" min="1" max="100" value="60" />
                <span id="speed-value" class="speed-display">60</span>
              </div>
              <div id="result" class="result-display"></div>
            </div>
            <div class="playback-controls">
              <button id="prev-step" class="control-btn" disabled>
                <span>‚óÄ Previous</span>
              </button>
              <button id="pause-play-btn" class="control-btn play-btn" disabled>
                <span>‚ñ∂ Play</span>
              </button>
              <button id="next-step" class="control-btn" disabled>
                <span>Next ‚ñ∂</span>
              </button>
            </div>
          </div>
        </section>

        <section class="state-section">
          <div class="section-header">
            <h3>Algorithm State</h3>
          </div>
          <div class="state-content">
            <div id="variable-state" class="variables-display">Initializing...</div>
            <div id="step-desc" class="step-description">
              <p>Enter an array and click 'Start Sorting'.</p>
            </div>
          </div>
        </section>

        <section class="info-section">
          <div class="section-header">
            <h3>Algorithm Complexity</h3>
          </div>
          <div class="complexity-grid">
            <div class="complexity-card">
              <div class="complexity-label">Time Complexity</div>
              <div class="complexity-value" id="time-complexity">O(n¬≤)</div>
              <div class="complexity-note">Average & Worst Case</div>
            </div>
            <div class="complexity-card">
              <div class="complexity-label">Space Complexity</div>
              <div class="complexity-value" id="space-complexity">O(1)</div>
              <div class="complexity-note">Constant Space</div>
            </div>
          </div>
        </section>
      </div>

      <div class="right-panel">
        <section class="code-section">
          <div class="section-header">
            <h3>Bubble Sort Algorithm (Code)</h3>
          </div>
          <div class="code-container">
            <pre id="code-display"><code id="code-block" class="code-content"></code></pre>
          </div>
        </section>

        <section class="quiz-section">
          <div class="quiz-box">
            <h1>Practice Quiz</h1>
          </div>
          <div class="quiz-button">
            <span style="color: var(--text-muted-light);">Apply what you've learned</span>
            <button id="quiz-button" onclick="quiz_btn()">‚ö°Start Quiz</button>
          </div>
        </section>
      </div>
    </div>

  </div>
  <script src="index.js"></script> </body>


</html>

