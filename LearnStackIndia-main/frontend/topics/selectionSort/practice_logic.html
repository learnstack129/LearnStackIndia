<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Selection Sort Step-by-Step Quiz - Interactive Learning</title>
  <script>
    (function() {
      // Get saved theme, but DEFAULT to 'light'
      const savedTheme = localStorage.getItem('theme') || 'light'; 
      // Set the attribute on the <html> tag, not <body>
      document.documentElement.setAttribute('data-theme', savedTheme);
    })();
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="practice_logic.css">
</head>

<body>
 <div class="theme-toggle">
   <button id="theme-toggle-btn" aria-label="Toggle theme">
     <span class="theme-icon">üåô</span>
   </button>
 </div>

 <div class="container">
   <!-- Header -->
   <header class="main-header">
     <h1>Selection Sort Step-by-Step Quiz</h1>
     <p class="subtitle">Find the minimum element in each pass and place it in the correct position</p>
   </header>

   <!-- Score Section -->
   <section class="score-section">
     <div class="score-grid">
       <div class="score-card">
         <div class="score-label">Score</div>
         <div class="score-value" id="current-score">0</div>
       </div>
       <div class="score-card">
         <div class="score-label">Accuracy</div>
         <div class="score-value" id="accuracy">0%</div>
       </div>
       <div class="score-card">
         <div class="score-label">Correct</div>
         <div class="score-value" id="correct-count">0</div>
       </div>
       <div class="score-card">
         <div class="score-label">Wrong</div>
         <div class="score-value" id="wrong-count">0</div>
       </div>
     </div>
   </section>

   <!-- Quiz Controls -->
   <section class="quiz-controls">
     <div class="control-group">
       <button id="new-quiz-btn" class="primary-btn">
         <span>üé≤ Start New Array</span>
       </button>
       <button id="reset-btn" class="secondary-btn">
         <span>üîÑ Reset</span>
       </button>
       <button id="back-to-main-btn" class="secondary-btn">
         <span>‚Üê Back to Main</span>
       </button>
     </div>
   </section>

   <!-- Main Content -->
   <div class="main-content">
     <!-- Left Panel: Array Visualization and Question -->
     <div class="left-panel">
       <!-- Array Visualization -->
       <section class="visualization-section">
         <div class="section-header">
           <h3>Array Visualization</h3>
           <div class="section-subtitle">Watch the selection sort in action</div>
         </div>

         <div class="array-container">
           <div id="array-view"></div>
           <div class="step-info">
             <div class="step-counter" id="step-counter">Ready to start</div>
             <div id="step-description">Click "Start New Array" to begin sorting</div>
           </div>
         </div>
       </section>

       <!-- Question Section -->
       <section class="question-section">
         <div class="section-header">
           <h3>Minimum Selection Decision</h3>
         </div>

         <div id="question-container" class="comparison-question" style="display: none;">
           <div class="question-text" id="question-text"></div>

           <div class="comparing-values">
             <div class="comparison-value" id="left-value"></div>
             <div class="comparison-operator">vs</div>
             <div class="comparison-value" id="right-value"></div>
           </div>

           <div class="answer-buttons">
             <button id="keep-current-btn" class="answer-btn">
               <span>üëà Keep Current Min</span>
             </button>
             <button id="new-minimum-btn" class="answer-btn">
               <span>üëâ New Minimum</span>
             </button>
             <button id="place-minimum-btn" class="answer-btn" style="display: none;">
               <span>‚úÖ Place Minimum Here</span>
             </button>
           </div>

           <div id="feedback" class="feedback"></div>
         </div>

         <div id="welcome-message" class="comparison-question">
           <div class="question-text">Welcome to Selection Sort Step-by-Step!</div>
           <p style="color: var(--text-secondary-light); margin-top: var(--spacing-md);">
             Click "Start New Array" to begin. You'll help find the minimum element in each pass and decide when to place it in the correct position.
           </p>
         </div>
         
       </section>
       <div class="quiz-redirect-box">
           <div class="redirect-content">
             <div class="redirect-icon">üìù</div>
             <div class="redirect-text">
               <h4>Write and Test the Code Yourself</h4>
               <p>Want to sharpen your skills? Implement the Selection Sort algorithm and test it live right here!</p>
             </div>
             <button id="quiz-redirect-btn" class="redirect-btn" onclick="RunCode()">
               <span>Run Code</span>
               <span class="redirect-arrow">‚Üí</span>
             </button>
           </div>
         </div>

     </div>

     <!-- Right Panel: Progress and Stats -->
     <div class="right-panel">
       <!-- Progress Section -->
       <section class="progress-section">
         <div class="section-header">
           <h3>Sorting Progress</h3>
         </div>

         <div class="progress-bar-container">
           <div class="progress-bar">
             <div id="progress-fill" class="progress-fill"></div>
           </div>
           <div class="progress-text">
             <span id="progress-text">0 / 0 steps</span>
           </div>
         </div>

         <div class="stats-grid">
           <div class="stat-item">
             <div class="stat-label">Correct</div>
             <div class="stat-value correct" id="correct-decisions">0</div>
           </div>
           <div class="stat-item">
             <div class="stat-label">Wrong</div>
             <div class="stat-value wrong" id="wrong-decisions">0</div>
           </div>
         </div>
       </section>

       <!-- Performance Section -->
       <section class="performance-section">
         <div class="section-header">
           <h3>Performance</h3>
         </div>

         <div class="performance-grid">
           <div class="performance-item">
             <div class="performance-label">Current Streak</div>
             <div class="performance-value" id="current-streak">0</div>
           </div>
           <div class="performance-item">
             <div class="performance-label">Best Streak</div>
             <div class="performance-value" id="best-streak">0</div>
           </div>
           <div class="performance-item">
             <div class="performance-label">Arrays Sorted</div>
             <div class="performance-value" id="arrays-sorted">0</div>
           </div>
         </div>
       </section>

       <!-- Algorithm Info -->
       <section class="algorithm-section">
         <div class="section-header">
           <h3>Algorithm Info</h3>
         </div>

         <div style="font-size: var(--font-size-sm); color: var(--text-secondary-light); line-height: 1.6;">
           <p><strong>Selection Sort Rule:</strong></p>
           <p>In each pass, find the minimum element from the unsorted portion and place it at the beginning of the unsorted section.</p>
           <br>
           <p><strong>Process:</strong> Compare each element to find the minimum, then swap the minimum with the first unsorted element.</p>
           <br>
           <p><strong>Goal:</strong> Sort the array in ascending order (smallest to largest).</p>
         </div>
       </section>
     </div>
   </div>

   <!-- Completion Modal -->
   <div id="completion-modal" class="modal">
     <div class="modal-content">
       <div class="modal-header">
         <h2 id="completion-title">üéâ Array Sorted!</h2>
       </div>
       <div class="modal-body">
         <div class="results-summary">
           <div class="result-stat">
             <div class="result-label">Final Score</div>
             <div class="result-value" id="final-score">0</div>
           </div>
           <div class="result-stat">
             <div class="result-label">Accuracy</div>
             <div class="result-value" id="final-accuracy">0%</div>
           </div>
           <div class="result-stat">
             <div class="result-label">Total Steps</div>
             <div class="result-value" id="total-steps">0</div>
           </div>
           <div class="result-stat">
             <div class="result-label">Time Taken</div>
             <div class="result-value" id="time-taken">0s</div>
           </div>
         </div>

         <div class="performance-message" id="performance-message">
           Great job! You successfully sorted the array using selection sort.
         </div>
       </div>
       <div class="modal-footer">
         <button id="sort-another-btn" class="primary-btn">Sort Another Array</button>
         <button id="view-results-btn" class="secondary-btn">View Final Array</button>
       </div>
     </div>
   </div>
 </div>
 <script src="practice_logic.js"></script>
</body>

</html>
